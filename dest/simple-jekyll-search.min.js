"use strict";!function(e,t){function n(e){h.put(e),o()}function i(e){m.load(e,function(t,i){t&&c("failed to get JSON ("+e+")"),n(i)})}function r(){p.resultsContainer.innerHTML=""}function l(e){p.resultsContainer.innerHTML+=e}function o(){p.searchInput.addEventListener("keyup",function(e){var t=e.which;if(s(t)){r();var n=e.target.value;a(n)&&u(h.search(n))}})}function u(e){if(p.appendToDom!==!1){if(0===e.length)return l(p.noResultsText);for(var t=0;t<e.length;t++)l(d.compile(e[t]))}p.postRender(e)}function a(e){return e&&e.length>0}function s(e){return-1===[13,16,20,37,38,39,40,91].indexOf(e)}function c(e){throw new Error("SimpleJekyllSearch --- "+e)}var p={searchInput:null,resultsContainer:null,json:[],searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:function(){},appendtoDom:!0,postRender:function(){},noResultsText:"No results found",limit:10,fuzzy:!1,exclude:[]},f=["searchInput","resultsContainer","json"],d=require("./Templater"),h=require("./Repository"),m=require("./JSONLoader"),S=require("./OptionsValidator")({required:f}),y=require("./utils");e.SimpleJekyllSearch=function(e){var t=S.validate(e);t.length>0&&c("You must specify the following required options: "+f),p=y.merge(p,e),d.setOptions({template:p.searchResultTemplate,middleware:p.templateMiddleware}),h.setOptions({fuzzy:p.fuzzy,limit:p.limit}),y.isJSON(p.json)?n(p.json):i(p.json)},e.SimpleJekyllSearch.init=e.SimpleJekyllSearch,"function"==typeof e.SimpleJekyllSearchInit&&e.SimpleJekyllSearchInit.call(this,e.SimpleJekyllSearch)}(window,document);